Ì
FD:\ITPM\GreenSagaAPI\GreenSagaAPI\GreenSagaAPI\Context\AppDbContext.cs
	namespace 	
GreenSagaAPI
 
. 
Context 
{ 
public		 

class		 
AppDbContext		 
:		 
	DbContext		  )
{

 
public 
AppDbContext 
( 
DbContextOptions ,
<, -
AppDbContext- 9
>9 :
options: A
)A B
:B C
baseC G
(G H
optionsH O
)O P
{ 	
} 	
public 
DbSet 
< 
User 
> 
Users  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
DbSet 
< 
cultivationProjects (
>( )
Projects* 2
{3 4
get5 8
;8 9
set: =
;= >
}? @
public 
DbSet 
<  
ProjecwithSupervisor )
>) * 
ProjecwithSupervisor+ ?
{@ A
getB E
;E F
setG J
;J K
}L M
public 
DbSet 
< 
TimeLineBox  
>  !
TimeLineBox" -
{. /
get0 3
;3 4
set5 8
;8 9
}: ;
	protected 
override 
void 
OnModelCreating  /
(/ 0
ModelBuilder0 <
modelBuilder= I
)I J
{ 	
modelBuilder 
. 
Entity 
<  
User  $
>$ %
(% &
)& '
.' (
ToTable( /
(/ 0
$str0 7
)7 8
;8 9
modelBuilder 
. 
Entity 
<  
cultivationProjects  3
>3 4
(4 5
)5 6
.6 7
ToTable7 >
(> ?
$str? I
)I J
;J K
modelBuilder 
. 
Entity 
<  
TimeLineBox  +
>+ ,
(, -
)- .
.. /
ToTable/ 6
(6 7
$str7 A
)A B
;B C
} 	
} 
} ÎW
OD:\ITPM\GreenSagaAPI\GreenSagaAPI\GreenSagaAPI\Controllers\ProjectController.cs
	namespace

 	
GreenSagaAPI


 
.

 
Controllers

 "
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class 
ProjectController "
:# $
ControllerBase% 3
{ 
private 
readonly 
AppDbContext %
_authContext& 2
;2 3
private 
projectService 
_projectService .
;. /
public 
ProjectController  
(  !
AppDbContext! -
appDbContext. :
): ;
{ 	
_authContext 
= 
appDbContext '
;' (
} 	
[ 	
HttpPost	 
( 
$str !
)! "
]" #
public 
async 
Task 
< 
IActionResult '
>' (
CreateProject) 6
(6 7
[7 8
FromBody8 @
]@ A
cultivationProjectsB U

projectObjV `
)` a
{ 	
if 
( 

projectObj 
== 
null "
)" #
return 

BadRequest !
(! "
)" #
;# $
if!! 
(!! 
await!! &
CheckProjectNameExistAsync!! 0
(!!0 1

projectObj!!1 ;
.!!; <
ProjectName!!< G
)!!G H
)!!H I
return"" 

BadRequest"" !
(""! "
new""" %
{""& '
Message""( /
=""0 1

projectObj""2 <
.""< =
ProjectName""= H
+""I J
$str""K j
}""k l
)""l m
;""m n
await## 
_authContext## 
.## 
Projects## '
.##' (
AddAsync##( 0
(##0 1

projectObj##1 ;
)##; <
;##< =
await$$ 
_authContext$$ 
.$$ 
SaveChangesAsync$$ /
($$/ 0
)$$0 1
;$$1 2
return%% 
Ok%% 
(%% 
new%% 
{&& 
Message'' 
='' 
$str'' 2
}(( 
)(( 
;(( 
}** 	
private++ 
Task++ 
<++ 
bool++ 
>++ &
CheckProjectNameExistAsync++ 5
(++5 6
string++6 <
projectName++= H
)++H I
=>,, 
_authContext,, 
.,, 
Projects,, %
.,,% &
AnyAsync,,& .
(,,. /
x,,/ 0
=>,,1 3
x,,4 5
.,,5 6
ProjectName,,6 A
==,,B D
projectName,,E P
),,P Q
;,,Q R
[.. 	
HttpGet..	 
(.. 
$str.. ,
).., -
]..- .
public// 
async// 
Task// 
<// 
IActionResult// '
>//' (
project//) 0
(//0 1
int//1 4
?//4 5
id//6 8
,//8 9
int//9 <
userID//= C
)//C D
{00 	
if22 
(22 
id22 
is22 
null22 
)22 
{33 
return44 

BadRequest44 !
(44! "
$str44" :
)44: ;
;44; <
}55 
else77 
if77 
(77 
id77 
==77 
$num77 
)77 
{88 
var99 
sqlQuery99 
=99 
$str	99 ∆
;
99∆ «
var:: 
result:: 
=:: 
_authContext:: )
.::) * 
ProjecwithSupervisor::* >
.::> ?

FromSqlRaw::? I
(::I J
sqlQuery::J R
,::R S
userID::T Z
)::Z [
.::[ \
ToList::\ b
(::b c
)::c d
;::d e
return;; 
Ok;; 
(;; 
result;;  
);;  !
;;;! "
}<< 
else== 
{>> 
var?? 
sqlQuery?? 
=?? 
$str	?? €
;
??€ ‹
varAA 
resultAA 
=AA 
_authContextAA )
.AA) * 
ProjecwithSupervisorAA* >
.AA> ?

FromSqlRawAA? I
(AAI J
sqlQueryAAJ R
,AAR S
userIDAAT Z
,AAZ [
idAA\ ^
)AA^ _
.AA_ `
ToListAA` f
(AAf g
)AAg h
;AAh i
returnEE 
OkEE 
(EE 
resultEE  
)EE  !
;EE! "
}FF 
}II 	
[JJ 	
HttpGetJJ	 
(JJ 
$strJJ 9
)JJ9 :
]JJ: ;
publicKK 
asyncKK 
TaskKK 
<KK 
ActionResultKK &
<KK& '
cultivationProjectsKK' :
>KK: ;
>KK; <#
getProjectForSupervisorKK= T
(KKT U
intKKU X
?KKX Y
idKKZ \
,KK\ ]
intKK^ a
userIDKKb h
)KKh i
{LL 	
ifNN 
(NN 
idNN 
isNN 
nullNN 
)NN 
{OO 
returnPP 

BadRequestPP !
(PP! "
$strPP" :
)PP: ;
;PP; <
}QQ 
elseSS 
ifSS 
(SS 
idSS 
==SS 
$numSS 
)SS 
{TT 
returnUU 
OkUU 
(UU 
awaitUU 
_authContextUU  ,
.UU, -
ProjectsUU- 5
.UU5 6
WhereUU6 ;
(UU; <
pUU< =
=>UU> @
pUUA B
.UUB C
SupervisorIDUUC O
==UUP R
userIDUUS Y
)UUY Z
.UUZ [
ToListAsyncUU[ f
(UUf g
)UUg h
)UUh i
;UUi j
}VV 
elseWW 
{XX 
var[[ 
project[[ 
=[[ 
await[[ #
_authContext[[$ 0
.[[0 1
Projects[[1 9
.[[9 :
Where[[: ?
([[? @
p[[@ A
=>[[B D
p[[E F
.[[F G
Id[[G I
==[[J L
id[[M O
&&[[P R
p[[S T
.[[T U
SupervisorID[[U a
==[[b d
userID[[e k
)[[k l
.[[l m
ToListAsync[[m x
([[x y
)[[y z
;[[z {
return]] 
Ok]] 
(]] 
project]] !
)]]! "
;]]" #
}^^ 
}aa 	
[bb 	

HttpDeletebb	 
]bb 
[cc 	
Routecc	 
(cc 
(cc 
$strcc )
)cc) *
)cc* +
]cc+ ,
publicdd 
asyncdd 
Taskdd 
<dd 
IActionResultdd '
>dd' (
DeleteProjectsdd) 7
(dd7 8
[dd8 9
	FromRoutedd9 B
]ddB C
intddC F
idddG I
)ddI J
{ee 	
tryff 
{gg 
varhh 
projectDeletehh !
=hh" #
awaithh$ )
_authContexthh* 6
.hh6 7
Projectshh7 ?
.hh? @
FirstOrDefaultAsynchh@ S
(hhS T
phhT U
=>hhV X
phhY Z
.hhZ [
Idhh[ ]
==hh^ `
idhha c
)hhc d
;hhd e
ifjj 
(jj 
projectDeletejj !
!=jj" $
nulljj% )
)jj) *
{kk 
_authContextll  
.ll  !
Removell! '
(ll' (
projectDeletell( 5
)ll5 6
;ll6 7
awaitmm 
_authContextmm &
.mm& '
SaveChangesAsyncmm' 7
(mm7 8
)mm8 9
;mm9 :
returnnn 
Oknn 
(nn 
projectDeletenn +
)nn+ ,
;nn, -
}oo 
returnqq 
NotFoundqq !
(qq! "
$"qq" $
$strqq$ 7
{qq7 8
idqq8 :
}qq: ;
$strqq; E
"qqE F
)qqF G
;qqG H
}rr 
catchss 
(ss 
	Exceptionss 
)ss 
{tt 
returnuu 

StatusCodeuu !
(uu! "
StatusCodesuu" -
.uu- .(
Status500InternalServerErroruu. J
,uuJ K
$strvv )
)vv) *
;vv* +
}ww 
}xx 	
[yy 	
HttpPutyy	 
]yy 
[zz 	
Routezz	 
(zz 
(zz 
$strzz )
)zz) *
)zz* +
]zz+ ,
public{{ 
async{{ 
Task{{ 
<{{ 
IActionResult{{ '
>{{' (
UpdateProjects{{) 7
({{7 8
[{{8 9
	FromRoute{{9 B
]{{B C
int{{D G
id{{H J
,{{J K
[{{L M
FromBody{{M U
]{{U V
cultivationProjects{{W j
cultivationProjects{{k ~
)	{{ Ä
{|| 	
try}} 
{~~ 
var 
projectUpdate !
=" #
await$ )
_authContext* 6
.6 7
Projects7 ?
.? @
FirstOrDefaultAsync@ S
(S T
pT U
=>V X
pY Z
.Z [
Id[ ]
==^ `
ida c
)c d
;d e
if
ÅÅ 
(
ÅÅ 
projectUpdate
ÅÅ !
!=
ÅÅ" $
null
ÅÅ% )
)
ÅÅ) *
{
ÉÉ 
projectUpdate
ÑÑ !
.
ÑÑ! "
ProjectName
ÑÑ" -
=
ÑÑ. /!
cultivationProjects
ÑÑ0 C
.
ÑÑC D
ProjectName
ÑÑD O
;
ÑÑO P
projectUpdate
ÖÖ !
.
ÖÖ! "
Description
ÖÖ" -
=
ÖÖ. /!
cultivationProjects
ÖÖ0 C
.
ÖÖC D
Description
ÖÖD O
;
ÖÖO P
projectUpdate
ÜÜ !
.
ÜÜ! "
SupervisorID
ÜÜ" .
=
ÜÜ/ 0!
cultivationProjects
ÜÜ1 D
.
ÜÜD E
SupervisorID
ÜÜE Q
;
ÜÜQ R
await
àà 
_authContext
àà &
.
àà& '
SaveChangesAsync
àà' 7
(
àà7 8
)
àà8 9
;
àà9 :
return
ââ 
Ok
ââ 
(
ââ 
projectUpdate
ââ +
)
ââ+ ,
;
ââ, -
}
ää 
return
åå 
NotFound
åå 
(
åå  
$"
åå  "
$str
åå" 5
{
åå5 6
id
åå6 8
}
åå8 9
$str
åå9 C
"
ååC D
)
ååD E
;
ååE F
}
çç 
catch
éé 
(
éé 
	Exception
éé 
)
éé 
{
èè 
return
êê 

StatusCode
êê !
(
êê! "
StatusCodes
êê" -
.
êê- .*
Status500InternalServerError
êê. J
,
êêJ K
$str
ëë )
)
ëë) *
;
ëë* +
}
íí 
}
ìì 	
}
îî 
}ïï Ù6
PD:\ITPM\GreenSagaAPI\GreenSagaAPI\GreenSagaAPI\Controllers\TimeLineController.cs
	namespace 	
GreenSagaAPI
 
. 
Controllers "
{		 
[

 
Route

 

(


 
$str

 
)

 
]

 
[ 
ApiController 
] 
public 

class 
TimeLineController #
:$ %
ControllerBase& 4
{ 
private 
readonly 
AppDbContext %
_authContext& 2
;2 3
public 
TimeLineController !
(! "
AppDbContext" .
appDbContext/ ;
); <
{ 	
_authContext 
= 
appDbContext '
;' (
} 	
[ 	
HttpPost	 
( 
$str "
)" #
]# $
public 
async 
Task 
< 
IActionResult '
>' (
timeLineCreate) 7
(7 8
[8 9
FromBody9 A
]A B
TimeLineBoxC N
timeLineObjO Z
)Z [
{ 	
if 
( 
timeLineObj 
== 
null #
)# $
return 

BadRequest !
(! "
)" #
;# $
await 
_authContext 
. 
TimeLineBox *
.* +
AddAsync+ 3
(3 4
timeLineObj4 ?
)? @
;@ A
await 
_authContext 
. 
SaveChangesAsync /
(/ 0
)0 1
;1 2
return 
Ok 
( 
new 
{   
Message!! 
=!! 
$str!! 2
}"" 
)"" 
;"" 
}$$ 	
[%% 	
HttpGet%%	 
(%% 
$str%% :
)%%: ;
]%%; <
public&& 
async&& 
Task&& 
<&& 
ActionResult&& &
<&&& '
TimeLineBox&&' 2
>&&2 3
>&&3 4$
getTimeLineForSupervisor&&5 M
(&&M N
int&&N Q
?&&Q R
id&&S U
,&&U V
int&&W Z
userID&&[ a
)&&a b
{'' 	
if)) 
()) 
id)) 
is)) 
null)) 
))) 
{** 
return++ 

BadRequest++ !
(++! "
$str++" :
)++: ;
;++; <
},, 
else.. 
if.. 
(.. 
id.. 
==.. 
$num.. 
).. 
{// 
return00 
Ok00 
(00 
await00 
_authContext00  ,
.00, -
TimeLineBox00- 8
.008 9
Where009 >
(00> ?
p00? @
=>00A C
p00D E
.00E F
UserID00F L
==00M O
userID00P V
)00V W
.00W X
ToListAsync00X c
(00c d
)00d e
)00e f
;00f g
}11 
else22 
{33 
var66 
project66 
=66 
await66 #
_authContext66$ 0
.660 1
TimeLineBox661 <
.66< =
Where66= B
(66B C
p66C D
=>66E G
p66H I
.66I J
Id66J L
==66M O
id66P R
&&66S U
p66V W
.66W X
UserID66X ^
==66_ a
userID66b h
)66h i
.66i j
ToListAsync66j u
(66u v
)66v w
;66w x
return88 
Ok88 
(88 
project88 !
)88! "
;88" #
}99 
};; 	
[<< 	
HttpGet<<	 
(<< 
$str<< =
)<<= >
]<<> ?
public== 
async== 
Task== 
<== 
ActionResult== &
<==& '
TimeLineBox==' 2
>==2 3
>==3 4 
getTimeLineForFarmer==5 I
(==I J
int==J M
?==M N
	ProjectId==O X
,==X Y
int==Z ]
userID==^ d
)==d e
{>> 	
if@@ 
(@@ 
	ProjectId@@ 
is@@ 
null@@ !
)@@! "
{AA 
returnBB 

BadRequestBB !
(BB! "
$strBB" :
)BB: ;
;BB; <
}CC 
elseII 
{JJ 
varMM 
projectMM 
=MM 
awaitMM #
_authContextMM$ 0
.MM0 1
TimeLineBoxMM1 <
.MM< =
WhereMM= B
(MMB C
pMMC D
=>MME G
pMMH I
.MMI J
	ProjectIdMMJ S
==MMT V
	ProjectIdMMW `
)MMa b
.MMb c
ToListAsyncMMc n
(MMn o
)MMo p
;MMp q
returnOO 
OkOO 
(OO 
projectOO !
)OO! "
;OO" #
}PP 
}RR 	
[SS 	

HttpDeleteSS	 
]SS 
[TT 	
RouteTT	 
(TT 
(TT 
$strTT )
)TT) *
)TT* +
]TT+ ,
publicUU 
asyncUU 
TaskUU 
<UU 
IActionResultUU '
>UU' (
deleteTimeLineUU) 7
(UU7 8
[UU8 9
	FromRouteUU9 B
]UUB C
intUUD G
idUUH J
)UUJ K
{VV 	
tryWW 
{XX 
varYY 
timeLineBoxDeleteYY %
=YY& '
awaitYY( -
_authContextYY. :
.YY: ;
TimeLineBoxYY; F
.YYF G
FirstOrDefaultAsyncYYG Z
(YYZ [
pYY[ \
=>YY] _
pYY` a
.YYa b
IdYYb d
==YYe g
idYYh j
)YYj k
;YYk l
if[[ 
([[ 
timeLineBoxDelete[[ %
!=[[& (
null[[) -
)[[- .
{\\ 
_authContext]]  
.]]  !
Remove]]! '
(]]' (
timeLineBoxDelete]]( 9
)]]9 :
;]]: ;
await^^ 
_authContext^^ &
.^^& '
SaveChangesAsync^^' 7
(^^7 8
)^^8 9
;^^9 :
return__ 
Ok__ 
(__ 
timeLineBoxDelete__ /
)__/ 0
;__0 1
}`` 
returnbb 
NotFoundbb 
(bb  
$"bb  "
$strbb" 5
{bb5 6
idbb6 8
}bb8 9
$strbb9 C
"bbC D
)bbD E
;bbE F
}cc 
catchdd 
(dd 
	Exceptiondd 
)dd 
{ee 
returnff 

StatusCodeff !
(ff! "
StatusCodesff" -
.ff- .(
Status500InternalServerErrorff. J
,ffJ K
$strgg )
)gg) *
;gg* +
}hh 
}ii 	
}jj 
}kk ú¬
LD:\ITPM\GreenSagaAPI\GreenSagaAPI\GreenSagaAPI\Controllers\UserController.cs
	namespace 	
GreenSagaAPI
 
. 
Controllers "
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class 
UserController 
:  !
ControllerBase" 0
{ 
private 
readonly 
AppDbContext %
_authContext& 2
;2 3
public$$ 
UserController$$ 
($$ 
AppDbContext$$ *
appDbContext$$+ 7
)$$7 8
{$$9 :
_authContext&& 
=&& 
appDbContext&& '
;&&' (
}'' 	
[)) 	
HttpPost))	 
()) 
$str))  
)))  !
]))! "
public** 
async** 
Task** 
<** 
IActionResult** '
>**' (
Authenticate**) 5
(**5 6
[**6 7
FromBody**7 ?
]**? @
User**@ D
userObj**E L
)**L M
{++ 	
if,, 
(,, 
userObj,, 
==,, 
null,, 
),,  
return-- 

BadRequest-- !
(--! "
)--" #
;--# $
var// 
user// 
=// 
await// 
_authContext// )
.//) *
Users//* /
./// 0
FirstOrDefaultAsync//0 C
(//C D
x//D E
=>//E G
x//G H
.//H I
UserName//I Q
==//R T
userObj//U \
.//\ ]
UserName//] e
)//e f
;//f g
if11 
(11 
user11 
==11 
null11 
)11 
return22 
NotFound22 
(22  
new22  #
{22$ %
Message22& -
=22. /
userObj220 7
.227 8
UserName228 @
+22A B
$str22B V
}22V W
)22W X
;22X Y
if44 
(44 
!44 
PasswordHasher44 
.44 
VerifyPassword44 -
(44- .
userObj44. 5
.445 6
Password446 >
,44> ?
user44@ D
.44D E
Password44E M
)44M N
)44N O
{55 
return66 

BadRequest66 !
(66! "
new66" %
{66& '
Message66( /
=66/ 0
$str661 H
}66H I
)66I J
;66J K
}77 
user99 
.99 
Token99 
=99 
	CreateJWt99 "
(99" #
user99# '
)99' (
;99( )
var:: 
newAccessToken:: 
=::  
user::! %
.::% &
Token::& +
;::+ ,
var;; 
newRefreshToken;; 
=;;  !
CreateRefreshToken;;" 4
(;;4 5
);;5 6
;;;6 7
user<< 
.<< 
RefreshToken<< 
=<< 
newRefreshToken<< .
;<<. /
await>> 
_authContext>> 
.>> 
SaveChangesAsync>> /
(>>/ 0
)>>0 1
;>>1 2
return?? 
Ok?? 
(?? 
new?? 
TokenApiDto?? %
(??% &
)??& '
{@@ 
AccessTokenAA 
=AA 
newAccessTokenAA ,
,AA, -
RefreshTokenBB 
=BB 
newRefreshTokenBB .
}CC 
)CC 
;CC 
}EE 	
[GG 	
HttpPostGG	 
(GG 
$strGG 
)GG 
]GG 
publicHH 
asyncHH 
TaskHH 
<HH 
IActionResultHH '
>HH' (
RegisterUserHH) 5
(HH5 6
[HH6 7
FromBodyHH7 ?
]HH? @
UserHHA E
userObjHHF M
)HHM N
{II 	
ifJJ 
(JJ 
userObjJJ 
==JJ 
nullJJ 
)JJ  
returnKK 

BadRequestKK !
(KK! "
)KK" #
;KK# $
ifNN 
(NN 
awaitNN #
CheckUserNameExistAsyncNN -
(NN- .
userObjNN. 5
.NN5 6
UserNameNN6 >
)NN> ?
)NN? @
returnOO 

BadRequestOO !
(OO! "
newOO" %
{OO& '
MessageOO( /
=OO0 1
$strOO2 L
}OOM N
)OON O
;OOO P
ifQQ 
(QQ 
awaitQQ  
CheckEmailExistAsyncQQ *
(QQ* +
userObjQQ+ 2
.QQ2 3
EmailQQ3 8
)QQ8 9
)QQ9 :
returnRR 

BadRequestRR !
(RR! "
newRR" %
{RR& '
MessageRR( /
=RR0 1
$strRR2 I
}RRJ K
)RRK L
;RRL M
varTT 
passTT 
=TT !
CheckPasswordStrengthTT ,
(TT, -
userObjTT- 4
.TT4 5
PasswordTT5 =
)TT= >
;TT> ?
ifUU 
(UU 
!UU 
stringUU 
.UU 
IsNullOrEmptyUU $
(UU$ %
passUU% )
)UU) *
)UU* +
returnVV 

BadRequestVV !
(VV! "
newVV" %
{VV& '
MessageVV( /
=VV0 1
passVV2 6
.VV6 7
ToStringVV7 ?
(VV? @
)VV@ A
}VVB C
)VVC D
;VVD E
userObjXX 
.XX 
PasswordXX 
=XX 
PasswordHasherXX -
.XX- .
HashPasseordXX. :
(XX: ;
userObjXX; B
.XXB C
PasswordXXC K
)XXK L
;XXL M
userObjYY 
.YY 
TokenYY 
=YY 
$strYY 
;YY 
awaitZZ 
_authContextZZ 
.ZZ 
UsersZZ $
.ZZ$ %
AddAsyncZZ% -
(ZZ- .
userObjZZ. 5
)ZZ5 6
;ZZ6 7
await[[ 
_authContext[[ 
.[[ 
SaveChangesAsync[[ /
([[/ 0
)[[0 1
;[[1 2
return\\ 
Ok\\ 
(\\ 
new\\ 
{]] 
Message^^ 
=^^ 
$str^^ +
}__ 
)__ 
;__ 
}aa 	
privatebb 
Taskbb 
<bb 
boolbb 
>bb #
CheckUserNameExistAsyncbb 2
(bb2 3
stringbb3 9
usernamebb: B
)bbB C
=>cc
 
_authContextcc 
.cc 
Userscc 
.cc  
AnyAsynccc  (
(cc( )
xcc) *
=>cc+ -
xcc. /
.cc/ 0
UserNamecc0 8
==cc9 ;
usernamecc< D
)ccD E
;ccE F
privatedd 
Taskdd 
<dd 
booldd 
>dd  
CheckEmailExistAsyncdd /
(dd/ 0
stringdd0 6
emaildd7 <
)dd< =
=>ee	 
_authContextee 
.ee 
Usersee 
.ee 
AnyAsyncee '
(ee' (
xee( )
=>ee* ,
xee- .
.ee. /
Emailee/ 4
==ee5 7
emailee8 =
)ee= >
;ee> ?
privatehh	 
stringhh !
CheckPasswordStrengthhh -
(hh- .
stringhh. 4
passwordhh5 =
)hh= >
{ii 	
StringBuilderjj 
sbjj 
=jj 
newjj "
StringBuilderjj# 0
(jj0 1
)jj1 2
;jj2 3
ifkk 
(kk 
passwordkk 
.kk 
Lengthkk 
<kk  
$numkk! "
)kk" #
sbll 
.ll 
Appendll 
(ll 
$strll ?
+ll@ A
EnvironmentllB M
.llM N
NewLinellN U
)llU V
;llV W
ifmm 
(mm 
!mm 
(mm 
Regexmm 
.mm 
IsMatchmm 
(mm 
passwordmm '
,mm' (
$strmm) 0
)mm0 1
&&mm2 4
Regexmm5 :
.mm: ;
IsMatchmm; B
(mmB C
passwordmmC K
,mmK L
$strmmM T
)mmT U
&&mmV X
RegexmmY ^
.mm^ _
IsMatchmm_ f
(mmf g
passwordmmg o
,mmo p
$strmmq x
)mmx y
)mmy z
)mmz {
sbnn 
.nn 
Appendnn 
(nn 
$strnn ;
+nn< =
Environmentnn> I
.nnI J
NewLinennJ Q
)nnQ R
;nnR S
ifoo 
(oo 
!oo 
Regexoo 
.oo 
IsMatchoo 
(oo 
passwordoo '
,oo' (
$stroo) g
)oog h
)ooh i
sbpp 
.pp 
Appendpp 
(pp 
$strpp E
+ppF G
EnvironmentppH S
.ppS T
NewLineppT [
)pp[ \
;pp\ ]
returnqq 
sbqq 
.qq 
ToStringqq 
(qq 
)qq  
;qq  !
}rr 	
privatess 
stringss 
	CreateJWtss  
(ss  !
Userss! %
userss& *
)ss* +
{tt 	
tryuu 
{uu 
varww 
jwtTokenHandlerww 
=ww  !
newww" %#
JwtSecurityTokenHandlerww& =
(ww= >
)ww> ?
;ww? @
varxx 
keyxx 
=xx 
Encodingxx 
.xx 
ASCIIxx $
.xx$ %
GetBytesxx% -
(xx- .
$strxx. C
)xxC D
;xxD E
varyy 
identityyy 
=yy 
newyy 
ClaimsIdentityyy -
(yy- .
newyy. 1
Claimyy2 7
[yy7 8
]yy8 9
{zz 
new{{ 
Claim{{ 
({{ 

ClaimTypes{{ $
.{{$ %
SerialNumber{{% 1
,{{1 2
$"{{3 5
{{{5 6
user{{6 :
.{{: ;
ID{{; =
}{{= >
"{{> ?
){{? @
,{{@ A
new|| 
Claim|| 
(|| 

ClaimTypes|| $
.||$ %
Role||% )
,||) *
user||+ /
.||/ 0
Role||0 4
)||4 5
,||5 6
new}} 
Claim}} 
(}} 

ClaimTypes}} $
.}}$ %
Name}}% )
,}}) *
$"}}* ,
{}}, -
user}}- 1
.}}1 2
UserName}}2 :
}}}: ;
"}}; <
)}}< =
} 
) 
; 
var
ÅÅ 
credentials
ÅÅ 
=
ÅÅ 
new
ÅÅ ! 
SigningCredentials
ÅÅ" 4
(
ÅÅ4 5
new
ÅÅ5 8"
SymmetricSecurityKey
ÅÅ9 M
(
ÅÅM N
key
ÅÅN Q
)
ÅÅQ R
,
ÅÅR S 
SecurityAlgorithms
ÅÅS e
.
ÅÅe f

HmacSha256
ÅÅf p
)
ÅÅp q
;
ÅÅq r
var
ÇÇ 
tokenDescriptor
ÇÇ 
=
ÇÇ  !
new
ÇÇ" %%
SecurityTokenDescriptor
ÇÇ& =
{
ÉÉ 
Subject
ÑÑ 
=
ÑÑ 
identity
ÑÑ "
,
ÑÑ" #
Expires
ÖÖ 
=
ÖÖ 
DateTime
ÖÖ "
.
ÖÖ" #
Now
ÖÖ# &
.
ÖÖ& '

AddSeconds
ÖÖ' 1
(
ÖÖ1 2
$num
ÖÖ2 6
)
ÖÖ6 7
,
ÖÖ7 8 
SigningCredentials
ÜÜ "
=
ÜÜ# $
credentials
ÜÜ% 0
}
àà 
;
àà 
var
ââ 
token
ââ 
=
ââ 
jwtTokenHandler
ââ '
.
ââ' (
CreateToken
ââ( 3
(
ââ3 4
tokenDescriptor
ââ4 C
)
ââC D
;
ââD E
return
ää 
jwtTokenHandler
ää "
.
ää" #

WriteToken
ää# -
(
ää- .
token
ää. 3
)
ää3 4
;
ää4 5
}
ãã 
catch
ãã 
(
ãã 
	Exception
ãã 
ex
ãã 
)
ãã  
{
åå 
throw
çç 
new
çç 
	Exception
çç #
(
çç# $
)
çç$ %
;
çç% &
}
éé 
}
êê 	
private
ëë 
string
ëë  
CreateRefreshToken
ëë )
(
ëë) *
)
ëë* +
{
íí 	
var
ìì 

tokenBytes
ìì 
=
ìì #
RandomNumberGenerator
ìì 2
.
ìì2 3
GetBytes
ìì3 ;
(
ìì; <
$num
ìì< >
)
ìì> ?
;
ìì? @
var
îî 
refreshToken
îî 
=
îî 
Convert
îî &
.
îî& '
ToBase64String
îî' 5
(
îî5 6

tokenBytes
îî6 @
)
îî@ A
;
îîA B
var
ïï 
	tokInUser
ïï 
=
ïï 
_authContext
ïï (
.
ïï( )
Users
ïï) .
.
ññ 
Any
ññ 
(
ññ 
x
ññ 
=>
ññ 
x
ññ 
.
ññ 
UserName
ññ $
==
ññ% '
refreshToken
ññ( 4
)
ññ4 5
;
ññ5 6
if
óó 
(
óó 
	tokInUser
óó 
)
óó 
{
òò 
return
ôô  
CreateRefreshToken
ôô )
(
ôô) *
)
ôô* +
;
ôô+ ,
}
öö 
return
õõ 
refreshToken
õõ 
;
õõ  
}
úú 	
private
ùù 
ClaimsPrincipal
ùù *
GetPrincipleFromExpiredToken
ùù  <
(
ùù< =
string
ùù= C
token
ùùD I
)
ùùI J
{
ûû 	
var
üü 
key
üü 
=
üü 
Encoding
üü 
.
üü 
ASCII
üü $
.
üü$ %
GetBytes
üü% -
(
üü- .
$str
üü. C
)
üüC D
;
üüD E
var
†† '
tokenValidationParameters
†† )
=
††* +
new
††, /'
TokenValidationParameters
††0 I
{
°° 
ValidateAudience
££  
=
££! "
false
££# (
,
££( )
ValidateIssuer
§§ 
=
§§  
false
§§! &
,
§§& '&
ValidateIssuerSigningKey
•• (
=
••) *
true
••+ /
,
••/ 0
IssuerSigningKey
¶¶  
=
¶¶! "
new
¶¶# &"
SymmetricSecurityKey
¶¶' ;
(
¶¶; <
key
¶¶< ?
)
¶¶? @
,
¶¶@ A
ValidateLifetime
ßß  
=
ßß! "
false
ßß# (
,
ßß( )
}
®® 
;
®® 
var
©© 
TokenHandler
©© 
=
©© 
new
©© "%
JwtSecurityTokenHandler
©©# :
(
©©: ;
)
©©; <
;
©©< =
SecurityToken
™™ 
securityToken
™™ '
;
™™' (
var
´´ 
	principal
´´ 
=
´´ 
TokenHandler
´´ (
.
´´( )
ValidateToken
´´) 6
(
´´6 7
token
´´7 <
,
´´< ='
tokenValidationParameters
´´> W
,
´´W X
out
´´Y \
securityToken
´´] j
)
´´j k
;
´´k l
var
¨¨ 
jwtSecurityToken
¨¨  
=
¨¨! "
securityToken
¨¨# 0
as
¨¨1 3
JwtSecurityToken
¨¨4 D
;
¨¨D E
if
≠≠ 
(
≠≠ 
jwtSecurityToken
≠≠  
==
≠≠! #
null
≠≠$ (
||
≠≠) +
!
≠≠, -
jwtSecurityToken
≠≠- =
.
≠≠= >
Header
≠≠> D
.
≠≠D E
Alg
≠≠E H
.
≠≠H I
Equals
≠≠I O
(
≠≠O P 
SecurityAlgorithms
≠≠P b
.
≠≠b c

HmacSha256
≠≠c m
,
≠≠m n
StringComparison
≠≠o 
.≠≠ Ä 
InvariantCulture≠≠Ä ê
)≠≠ê ë
)≠≠ë í
throw
ÆÆ 
new
ÆÆ $
SecurityTokenException
ÆÆ 0
(
ÆÆ0 1
$str
ÆÆ1 H
)
ÆÆH I
;
ÆÆI J
return
ØØ 
	principal
ØØ 
;
ØØ 
}
∞∞ 	
[
±± 	
	Authorize
±±	 
]
±± 
[
≤≤ 	
HttpGet
≤≤	 
]
≤≤ 
public
≥≥ 
async
≥≥ 
Task
≥≥ 
<
≥≥ 
ActionResult
≥≥ &
<
≥≥& '
User
≥≥' +
>
≥≥+ ,
>
≥≥, -

GetAllUser
≥≥. 8
(
≥≥8 9
)
≥≥9 :
{
¥¥ 	
return
µµ 
Ok
µµ 
(
µµ 
await
µµ 
_authContext
µµ (
.
µµ( )
Users
µµ) .
.
µµ. /
ToListAsync
µµ/ :
(
µµ: ;
)
µµ; <
)
µµ< =
;
µµ= >
}
∂∂ 	
[
∑∑ 	
HttpPost
∑∑	 
(
∑∑ 
$str
∑∑ 
)
∑∑ 
]
∑∑ 
public
∏∏ 
async
∏∏ 
Task
∏∏ 
<
∏∏ 
IActionResult
∏∏ '
>
∏∏' (
Refesh
∏∏) /
(
∏∏/ 0
TokenApiDto
∏∏0 ;
tokenApiDto
∏∏< G
)
∏∏G H
{
ππ 	
if
∫∫ 
(
∫∫ 
tokenApiDto
∫∫ 
is
∫∫ 
null
∫∫ "
)
∫∫" #
return
ªª 

BadRequest
ªª !
(
ªª! "
$str
ªª" ;
)
ªª; <
;
ªª< =
string
ºº 
accessToken
ºº 
=
ºº  
tokenApiDto
ºº  +
.
ºº+ ,
AccessToken
ºº, 7
;
ºº7 8
string
ΩΩ 
refreshToken
ΩΩ 
=
ΩΩ  !
tokenApiDto
ΩΩ" -
.
ΩΩ- .
RefreshToken
ΩΩ. :
;
ΩΩ: ;
var
ææ 
	principal
ææ 
=
ææ *
GetPrincipleFromExpiredToken
ææ 7
(
ææ7 8
accessToken
ææ8 C
)
ææC D
;
ææD E
var
øø 
username
øø 
=
øø 
	principal
øø $
.
øø$ %
Identity
øø% -
.
øø- .
Name
øø. 2
;
øø2 3
var
¿¿ 
user
¿¿ 
=
¿¿ 
await
¿¿ 
_authContext
¿¿ '
.
¿¿' (
Users
¿¿( -
.
¿¿- .!
FirstOrDefaultAsync
¿¿. A
(
¿¿A B
u
¿¿B C
=>
¿¿D F
u
¿¿G H
.
¿¿H I
UserName
¿¿I Q
==
¿¿R T
username
¿¿U ]
)
¿¿] ^
;
¿¿^ _
if
¡¡ 
(
¡¡ 
user
¡¡ 
is
¡¡ 
null
¡¡ 
||
¡¡ 
user
¡¡  $
.
¡¡$ %
RefreshToken
¡¡% 1
!=
¡¡2 4
refreshToken
¡¡5 A
||
¡¡B D
user
¡¡E I
.
¡¡I J$
RefreshTokenExpiryTime
¡¡J `
<=
¡¡a c
DateTime
¡¡d l
.
¡¡l m
Now
¡¡m p
)
¡¡p q
return
¬¬ 

BadRequest
¬¬ !
(
¬¬! "
$str
¬¬" 3
)
¬¬3 4
;
¬¬4 5
var
√√ 
newAccessToken
√√ 
=
√√  
	CreateJWt
√√! *
(
√√* +
user
√√+ /
)
√√/ 0
;
√√0 1
var
ƒƒ 
newRefreshToken
ƒƒ 
=
ƒƒ  ! 
CreateRefreshToken
ƒƒ" 4
(
ƒƒ4 5
)
ƒƒ5 6
;
ƒƒ6 7
user
≈≈ 
.
≈≈ 
RefreshToken
≈≈ 
=
≈≈ 
newRefreshToken
≈≈  /
;
≈≈/ 0
await
∆∆ 
_authContext
∆∆ 
.
∆∆ 
SaveChangesAsync
∆∆ /
(
∆∆/ 0
)
∆∆0 1
;
∆∆1 2
return
«« 
Ok
«« 
(
«« 
new
«« 
TokenApiDto
«« %
(
««% &
)
««& '
{
»» 
AccessToken
…… 
=
…… 
newAccessToken
…… ,
,
……, -
RefreshToken
   
=
   
newRefreshToken
   -
,
  - .
}
ÃÃ 
)
ÃÃ 
;
ÃÃ 
}
ÕÕ 	
[
–– 	
HttpGet
––	 
(
–– 
$str
–– /
)
––/ 0
]
––0 1
public
—— 
async
—— 
Task
—— 
<
—— 
ActionResult
—— &
<
——& '!
cultivationProjects
——' :
>
——: ;
>
——; <
getUserByRole
——= J
(
——J K
int
——K N
?
——N O
id
——P R
,
——R S
String
——T Z
roleID
——[ a
)
——a b
{
““ 	
if
‘‘ 
(
‘‘ 
id
‘‘ 
is
‘‘ 
null
‘‘ 
)
‘‘ 
{
’’ 
return
÷÷ 

BadRequest
÷÷ !
(
÷÷! "
$str
÷÷" :
)
÷÷: ;
;
÷÷; <
}
◊◊ 
else
ŸŸ 
if
ŸŸ 
(
ŸŸ 
id
ŸŸ 
==
ŸŸ 
$num
ŸŸ 
)
ŸŸ 
{
⁄⁄ 
return
€€ 
Ok
€€ 
(
€€ 
await
€€ 
_authContext
€€  ,
.
€€, -
Users
€€- 2
.
€€2 3
Where
€€3 8
(
€€8 9
p
€€9 :
=>
€€; =
p
€€> ?
.
€€? @
Role
€€@ D
==
€€E G
roleID
€€H N
)
€€N O
.
€€O P
Select
€€P V
(
€€V W
p
€€W X
=>
€€Y [
new
€€\ _
{
€€` a
p
€€b c
.
€€c d
ID
€€d f
,
€€f g
p
€€h i
.
€€i j
	FirstName
€€j s
,
€€s t
p
€€u v
.
€€v w
LastName
€€w 
}€€Ä Å
)€€Å Ç
.€€Ç É
ToListAsync€€É é
(€€é è
)€€è ê
)€€ê ë
;€€ë í
}
‹‹ 
else
›› 
{
ﬁﬁ 
var
ﬂﬂ 
users
ﬂﬂ 
=
ﬂﬂ 
await
ﬂﬂ "
_authContext
ﬂﬂ# /
.
ﬂﬂ/ 0
Users
ﬂﬂ0 5
.
ﬂﬂ5 6
Where
ﬂﬂ6 ;
(
ﬂﬂ; <
p
ﬂﬂ< =
=>
ﬂﬂ> @
p
ﬂﬂA B
.
ﬂﬂB C
Role
ﬂﬂC G
==
ﬂﬂH J
roleID
ﬂﬂK Q
&&
ﬂﬂR T
p
ﬂﬂU V
.
ﬂﬂV W
Role
ﬂﬂW [
==
ﬂﬂ\ ^
roleID
ﬂﬂ_ e
)
ﬂﬂe f
.
ﬂﬂf g
Select
ﬂﬂg m
(
ﬂﬂm n
p
ﬂﬂn o
=>
ﬂﬂp r
new
ﬂﬂs v
{
ﬂﬂw x
p
ﬂﬂy z
.
ﬂﬂz {
ID
ﬂﬂ{ }
,
ﬂﬂ} ~
pﬂﬂ Ä
.ﬂﬂÄ Å
	FirstNameﬂﬂÅ ä
,ﬂﬂã å
pﬂﬂç é
.ﬂﬂé è
LastNameﬂﬂè ó
}ﬂﬂò ô
)ﬂﬂô ö
.ﬂﬂö õ
ToListAsyncﬂﬂõ ¶
(ﬂﬂ¶ ß
)ﬂﬂß ®
;ﬂﬂ® ©
return
‚‚ 
Ok
‚‚ 
(
‚‚ 
users
‚‚ 
)
‚‚  
;
‚‚  !
}
„„ 
}
ÂÂ 	
[
ÁÁ 	
HttpGet
ÁÁ	 
(
ÁÁ 
$str
ÁÁ $
)
ÁÁ$ %
]
ÁÁ% &
public
ËË 
async
ËË 
Task
ËË 
<
ËË 
ActionResult
ËË &
<
ËË& '
User
ËË' +
>
ËË+ ,
>
ËË, -
getUserByID
ËË. 9
(
ËË9 :
int
ËË: =
?
ËË= >
id
ËË? A
)
ËËA B
{
ÈÈ 	
if
ÎÎ 
(
ÎÎ 
id
ÎÎ 
is
ÎÎ 
null
ÎÎ 
)
ÎÎ 
{
ÏÏ 
return
ÌÌ 

BadRequest
ÌÌ !
(
ÌÌ! "
$str
ÌÌ" :
)
ÌÌ: ;
;
ÌÌ; <
}
ÓÓ 
else
 
if
 
(
 
id
 
==
 
$num
 
)
 
{
ÒÒ 
return
ÚÚ 
Ok
ÚÚ 
(
ÚÚ 
await
ÚÚ 
_authContext
ÚÚ  ,
.
ÚÚ, -
Users
ÚÚ- 2
.
ÚÚ2 3
Where
ÚÚ3 8
(
ÚÚ8 9
p
ÚÚ9 :
=>
ÚÚ; =
p
ÚÚ> ?
.
ÚÚ? @
ID
ÚÚ@ B
==
ÚÚC E
id
ÚÚF H
)
ÚÚH I
.
ÚÚI J
ToListAsync
ÚÚJ U
(
ÚÚU V
)
ÚÚV W
)
ÚÚW X
;
ÚÚX Y
}
ÛÛ 
else
ÙÙ 
{
ıı 
var
ˆˆ 
users
ˆˆ 
=
ˆˆ 
await
ˆˆ "
_authContext
ˆˆ# /
.
ˆˆ/ 0
Users
ˆˆ0 5
.
ˆˆ5 6
Where
ˆˆ6 ;
(
ˆˆ; <
p
ˆˆ< =
=>
ˆˆ> @
p
ˆˆA B
.
ˆˆB C
ID
ˆˆC E
==
ˆˆF H
id
ˆˆI K
)
ˆˆK L
.
ˆˆL M
ToListAsync
ˆˆM X
(
ˆˆX Y
)
ˆˆY Z
;
ˆˆZ [
return
˘˘ 
Ok
˘˘ 
(
˘˘ 
users
˘˘ 
)
˘˘  
;
˘˘  !
}
˙˙ 
}
¸¸ 	
}
ÄÄ 
}ÅÅ ã
WD:\ITPM\GreenSagaAPI\GreenSagaAPI\GreenSagaAPI\Controllers\WeatherForecastController.cs
	namespace 	
GreenSagaAPI
 
. 
Controllers "
{ 
[ 
ApiController 
] 
[ 
Route 

(
 
$str 
) 
] 
public 

class %
WeatherForecastController *
:+ ,
ControllerBase- ;
{ 
private		 
static		 
readonly		 
string		  &
[		& '
]		' (
	Summaries		) 2
=		3 4
new		5 8
[		8 9
]		9 :
{

 	
$str 
, 
$str 
, 
$str '
,' (
$str) /
,/ 0
$str1 7
,7 8
$str9 ?
,? @
$strA H
,H I
$strJ O
,O P
$strQ ]
,] ^
$str_ j
} 
; 
private 
readonly 
ILogger  
<  !%
WeatherForecastController! :
>: ;
_logger< C
;C D
public %
WeatherForecastController (
(( )
ILogger) 0
<0 1%
WeatherForecastController1 J
>J K
loggerL R
)R S
{ 	
_logger 
= 
logger 
; 
} 	
[ 	
HttpGet	 
( 
Name 
= 
$str ,
), -
]- .
public 
IEnumerable 
< 
WeatherForecast *
>* +
Get, /
(/ 0
)0 1
{ 	
return 

Enumerable 
. 
Range #
(# $
$num$ %
,% &
$num' (
)( )
.) *
Select* 0
(0 1
index1 6
=>7 9
new: =
WeatherForecast> M
{ 
Date 
= 
DateTime 
.  
Now  #
.# $
AddDays$ +
(+ ,
index, 1
)1 2
,2 3
TemperatureC 
= 
Random %
.% &
Shared& ,
., -
Next- 1
(1 2
-2 3
$num3 5
,5 6
$num7 9
)9 :
,: ;
Summary 
= 
	Summaries #
[# $
Random$ *
.* +
Shared+ 1
.1 2
Next2 6
(6 7
	Summaries7 @
.@ A
LengthA G
)G H
]H I
} 
) 
. 
ToArray 
( 
) 
; 
} 	
}   
}!! ›$
HD:\ITPM\GreenSagaAPI\GreenSagaAPI\GreenSagaAPI\Helpers\PasswordHasher.cs
	namespace 	
GreenSagaAPI
 
. 
Helpers 
{ 
public 

class 
PasswordHasher 
{ 
public 
static $
RNGCryptoServiceProvider .
rng/ 2
=3 4
new5 8$
RNGCryptoServiceProvider9 Q
(Q R
)R S
;S T
private 
static 
readonly 
int  #
SaltSize$ ,
=- .
$num/ 1
;1 2
private		 
static		 
readonly		 
int		  #
HashSize		$ ,
=		- .
$num		/ 1
;		1 2
private

 
static

 
readonly

 
int

  #

Iterations

$ .
=

/ 0
$num

1 6
;

6 7
public 
static 
string 
HashPasseord )
() *
string* 0
password1 9
)9 :
{ 	
byte 
[ 
] 
salt 
; 
rng 
. 
GetBytes 
( 
salt 
= 
new  #
byte$ (
[( )
SaltSize) 1
]1 2
)2 3
;3 4
var 
key 
= 
new 
Rfc2898DeriveBytes +
(+ ,
password, 4
,4 5
salt5 9
,9 :

Iterations: D
)D E
;E F
var 
hash 
= 
key 
. 
GetBytes #
(# $
HashSize$ ,
), -
;- .
var 
	hashBytes 
= 
new 
byte #
[# $
SaltSize$ ,
+, -
HashSize. 6
]6 7
;7 8
Array 
. 
Copy 
( 
salt 
, 
$num 
, 
	hashBytes  )
,) *
$num+ ,
,, -
SaltSize. 6
)6 7
;7 8
Array 
. 
Copy 
( 
hash 
, 
$num 
, 
	hashBytes  )
,) *
SaltSize+ 3
,3 4
HashSize5 =
)= >
;> ?
var 

base64Hash 
= 
Convert $
.$ %
ToBase64String% 3
(3 4
	hashBytes4 =
)= >
;> ?
return 

base64Hash 
; 
} 	
public 
static 
bool 
VerifyPassword )
() *
string* 0
password1 9
,9 :
string; A

base64HashB L
)L M
{ 	
var 
	hashBytes 
= 
Convert #
.# $
FromBase64String$ 4
(4 5

base64Hash5 ?
)? @
;@ A
var 
salt 
= 
new 
byte 
[  
SaltSize  (
]( )
;) *
Array 
. 
Copy 
( 
	hashBytes  
,  !
$num" #
,# $
salt% )
,) *
$num+ ,
,, -
SaltSize. 6
)6 7
;7 8
var 
key 
= 
new 
Rfc2898DeriveBytes ,
(, -
password- 5
,5 6
salt7 ;
,; <

Iterations= G
)G H
;H I
byte   
[   
]   
hash   
=   
key   
.   
GetBytes   &
(  & '
HashSize  ' /
)  / 0
;  1 2
for"" 
("" 
var"" 
i"" 
="" 
$num"" 
;"" 
i"" 
<"" 
HashSize""  (
;""( )
i""* +
++""+ -
)""- .
{## 
if$$ 
($$ 
	hashBytes$$ 
[$$ 
i$$ 
+$$  !
SaltSize$$" *
]$$* +
!=$$, .
hash$$/ 3
[$$3 4
i$$4 5
]$$5 6
)$$6 7
{%% 
return&& 
false&&  
;&&  !
}'' 
})) 
return** 
true** 
;** 
},, 	
}.. 
}// ó°
YD:\ITPM\GreenSagaAPI\GreenSagaAPI\GreenSagaAPI\Migrations\20230518185223_InitialCreate.cs
	namespace 	
GreenSagaAPI
 
. 

Migrations !
{ 
public		 

partial		 
class		 
InitialCreate		 &
:		' (
	Migration		) 2
{

 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str  
,  !
columns 
: 
table 
=> !
new" %
{ 
Id 
= 
table 
. 
Column %
<% &
int& )
>) *
(* +
type+ /
:/ 0
$str1 6
,6 7
nullable8 @
:@ A
falseB G
)G H
. 

Annotation #
(# $
$str$ 8
,8 9
$str: @
)@ A
,A B
ProjectCode 
=  !
table" '
.' (
Column( .
<. /
string/ 5
>5 6
(6 7
type7 ;
:; <
$str= L
,L M
nullableN V
:V W
trueX \
)\ ]
,] ^
ProjectName 
=  !
table" '
.' (
Column( .
<. /
string/ 5
>5 6
(6 7
type7 ;
:; <
$str= L
,L M
nullableN V
:V W
trueX \
)\ ]
,] ^
Description 
=  !
table" '
.' (
Column( .
<. /
string/ 5
>5 6
(6 7
type7 ;
:; <
$str= L
,L M
nullableN V
:V W
trueX \
)\ ]
,] ^
CreateAt 
= 
table $
.$ %
Column% +
<+ ,
DateTime, 4
>4 5
(5 6
type6 :
:: ;
$str< G
,G H
nullableI Q
:Q R
falseS X
)X Y
,Y Z
Createby 
= 
table $
.$ %
Column% +
<+ ,
int, /
>/ 0
(0 1
type1 5
:5 6
$str7 <
,< =
nullable> F
:F G
falseH M
)M N
,N O
UserID 
= 
table "
." #
Column# )
<) *
int* -
>- .
(. /
type/ 3
:3 4
$str5 :
,: ;
nullable< D
:D E
falseF K
)K L
,L M
SupervisorID  
=! "
table# (
.( )
Column) /
</ 0
int0 3
>3 4
(4 5
type5 9
:9 :
$str; @
,@ A
nullableB J
:J K
falseL Q
)Q R
,R S
ModifyAt 
= 
table $
.$ %
Column% +
<+ ,
DateTime, 4
>4 5
(5 6
type6 :
:: ;
$str< G
,G H
nullableI Q
:Q R
falseS X
)X Y
,Y Z
ModifyBy 
= 
table $
.$ %
Column% +
<+ ,
int, /
>/ 0
(0 1
type1 5
:5 6
$str7 <
,< =
nullable> F
:F G
falseH M
)M N
,N O
DeleteAt 
= 
table $
.$ %
Column% +
<+ ,
DateTime, 4
>4 5
(5 6
type6 :
:: ;
$str< G
,G H
nullableI Q
:Q R
falseS X
)X Y
,Y Z
DeleteBy 
= 
table $
.$ %
Column% +
<+ ,
int, /
>/ 0
(0 1
type1 5
:5 6
$str7 <
,< =
nullable> F
:F G
falseH M
)M N
,N O
Status 
= 
table "
." #
Column# )
<) *
int* -
>- .
(. /
type/ 3
:3 4
$str5 :
,: ;
nullable< D
:D E
falseF K
)K L
}   
,   
constraints!! 
:!! 
table!! "
=>!!# %
{"" 
table## 
.## 

PrimaryKey## $
(##$ %
$str##% 2
,##2 3
x##4 5
=>##6 8
x##9 :
.##: ;
Id##; =
)##= >
;##> ?
}$$ 
)$$ 
;$$ 
migrationBuilder&& 
.&& 
CreateTable&& (
(&&( )
name'' 
:'' 
$str'' ,
,'', -
columns(( 
:(( 
table(( 
=>(( !
new((" %
{)) 
Id** 
=** 
table** 
.** 
Column** %
<**% &
int**& )
>**) *
(*** +
type**+ /
:**/ 0
$str**1 6
,**6 7
nullable**8 @
:**@ A
false**B G
)**G H
.++ 

Annotation++ #
(++# $
$str++$ 8
,++8 9
$str++: @
)++@ A
,++A B
ProjectCode,, 
=,,  !
table,," '
.,,' (
Column,,( .
<,,. /
string,,/ 5
>,,5 6
(,,6 7
type,,7 ;
:,,; <
$str,,= L
,,,L M
nullable,,N V
:,,V W
true,,X \
),,\ ]
,,,] ^
ProjectName-- 
=--  !
table--" '
.--' (
Column--( .
<--. /
string--/ 5
>--5 6
(--6 7
type--7 ;
:--; <
$str--= L
,--L M
nullable--N V
:--V W
true--X \
)--\ ]
,--] ^
Description.. 
=..  !
table.." '
...' (
Column..( .
<... /
string../ 5
>..5 6
(..6 7
type..7 ;
:..; <
$str..= L
,..L M
nullable..N V
:..V W
true..X \
)..\ ]
,..] ^
CreateAt// 
=// 
table// $
.//$ %
Column//% +
<//+ ,
DateTime//, 4
>//4 5
(//5 6
type//6 :
://: ;
$str//< G
,//G H
nullable//I Q
://Q R
false//S X
)//X Y
,//Y Z
Createby00 
=00 
table00 $
.00$ %
Column00% +
<00+ ,
int00, /
>00/ 0
(000 1
type001 5
:005 6
$str007 <
,00< =
nullable00> F
:00F G
false00H M
)00M N
,00N O
UserID11 
=11 
table11 "
.11" #
Column11# )
<11) *
int11* -
>11- .
(11. /
type11/ 3
:113 4
$str115 :
,11: ;
nullable11< D
:11D E
false11F K
)11K L
,11L M
SupervisorID22  
=22! "
table22# (
.22( )
Column22) /
<22/ 0
int220 3
>223 4
(224 5
type225 9
:229 :
$str22; @
,22@ A
nullable22B J
:22J K
false22L Q
)22Q R
,22R S
ModifyAt33 
=33 
table33 $
.33$ %
Column33% +
<33+ ,
DateTime33, 4
>334 5
(335 6
type336 :
:33: ;
$str33< G
,33G H
nullable33I Q
:33Q R
false33S X
)33X Y
,33Y Z
ModifyBy44 
=44 
table44 $
.44$ %
Column44% +
<44+ ,
int44, /
>44/ 0
(440 1
type441 5
:445 6
$str447 <
,44< =
nullable44> F
:44F G
false44H M
)44M N
,44N O
DeleteAt55 
=55 
table55 $
.55$ %
Column55% +
<55+ ,
DateTime55, 4
>554 5
(555 6
type556 :
:55: ;
$str55< G
,55G H
nullable55I Q
:55Q R
false55S X
)55X Y
,55Y Z
DeleteBy66 
=66 
table66 $
.66$ %
Column66% +
<66+ ,
int66, /
>66/ 0
(660 1
type661 5
:665 6
$str667 <
,66< =
nullable66> F
:66F G
false66H M
)66M N
,66N O
SupervisorName77 "
=77# $
table77% *
.77* +
Column77+ 1
<771 2
string772 8
>778 9
(779 :
type77: >
:77> ?
$str77@ O
,77O P
nullable77Q Y
:77Y Z
true77[ _
)77_ `
,77` a
Status88 
=88 
table88 "
.88" #
Column88# )
<88) *
int88* -
>88- .
(88. /
type88/ 3
:883 4
$str885 :
,88: ;
nullable88< D
:88D E
false88F K
)88K L
}99 
,99 
constraints:: 
::: 
table:: "
=>::# %
{;; 
table<< 
.<< 

PrimaryKey<< $
(<<$ %
$str<<% >
,<<> ?
x<<@ A
=><<B D
x<<E F
.<<F G
Id<<G I
)<<I J
;<<J K
}== 
)== 
;== 
migrationBuilder?? 
.?? 
CreateTable?? (
(??( )
name@@ 
:@@ 
$str@@  
,@@  !
columnsAA 
:AA 
tableAA 
=>AA !
newAA" %
{BB 
IdCC 
=CC 
tableCC 
.CC 
ColumnCC %
<CC% &
intCC& )
>CC) *
(CC* +
typeCC+ /
:CC/ 0
$strCC1 6
,CC6 7
nullableCC8 @
:CC@ A
falseCCB G
)CCG H
.DD 

AnnotationDD #
(DD# $
$strDD$ 8
,DD8 9
$strDD: @
)DD@ A
,DDA B
	ProjectIdEE 
=EE 
tableEE  %
.EE% &
ColumnEE& ,
<EE, -
intEE- 0
>EE0 1
(EE1 2
typeEE2 6
:EE6 7
$strEE8 =
,EE= >
nullableEE? G
:EEG H
falseEEI N
)EEN O
,EEO P
FarmerIdFF 
=FF 
tableFF $
.FF$ %
ColumnFF% +
<FF+ ,
intFF, /
>FF/ 0
(FF0 1
typeFF1 5
:FF5 6
$strFF7 <
,FF< =
nullableFF> F
:FFF G
falseFFH M
)FFM N
,FFN O
SupervisorIdGG  
=GG! "
tableGG# (
.GG( )
ColumnGG) /
<GG/ 0
intGG0 3
>GG3 4
(GG4 5
typeGG5 9
:GG9 :
$strGG; @
,GG@ A
nullableGGB J
:GGJ K
falseGGL Q
)GGQ R
,GGR S
TitleHH 
=HH 
tableHH !
.HH! "
ColumnHH" (
<HH( )
stringHH) /
>HH/ 0
(HH0 1
typeHH1 5
:HH5 6
$strHH7 F
,HHF G
nullableHHH P
:HHP Q
trueHHR V
)HHV W
,HHW X
DescriptionII 
=II  !
tableII" '
.II' (
ColumnII( .
<II. /
stringII/ 5
>II5 6
(II6 7
typeII7 ;
:II; <
$strII= L
,IIL M
nullableIIN V
:IIV W
trueIIX \
)II\ ]
,II] ^
ImageJJ 
=JJ 
tableJJ !
.JJ! "
ColumnJJ" (
<JJ( )
stringJJ) /
>JJ/ 0
(JJ0 1
typeJJ1 5
:JJ5 6
$strJJ7 F
,JJF G
nullableJJH P
:JJP Q
trueJJR V
)JJV W
,JJW X
IsActiveKK 
=KK 
tableKK $
.KK$ %
ColumnKK% +
<KK+ ,
boolKK, 0
>KK0 1
(KK1 2
typeKK2 6
:KK6 7
$strKK8 =
,KK= >
nullableKK? G
:KKG H
falseKKI N
)KKN O
,KKO P
CreateAtLL 
=LL 
tableLL $
.LL$ %
ColumnLL% +
<LL+ ,
DateTimeLL, 4
>LL4 5
(LL5 6
typeLL6 :
:LL: ;
$strLL< G
,LLG H
nullableLLI Q
:LLQ R
falseLLS X
)LLX Y
,LLY Z
CreatebyMM 
=MM 
tableMM $
.MM$ %
ColumnMM% +
<MM+ ,
intMM, /
>MM/ 0
(MM0 1
typeMM1 5
:MM5 6
$strMM7 <
,MM< =
nullableMM> F
:MMF G
falseMMH M
)MMM N
,MMN O
UserIDNN 
=NN 
tableNN "
.NN" #
ColumnNN# )
<NN) *
intNN* -
>NN- .
(NN. /
typeNN/ 3
:NN3 4
$strNN5 :
,NN: ;
nullableNN< D
:NND E
falseNNF K
)NNK L
,NNL M
ModifyAtOO 
=OO 
tableOO $
.OO$ %
ColumnOO% +
<OO+ ,
DateTimeOO, 4
>OO4 5
(OO5 6
typeOO6 :
:OO: ;
$strOO< G
,OOG H
nullableOOI Q
:OOQ R
falseOOS X
)OOX Y
,OOY Z
ModifyByPP 
=PP 
tablePP $
.PP$ %
ColumnPP% +
<PP+ ,
intPP, /
>PP/ 0
(PP0 1
typePP1 5
:PP5 6
$strPP7 <
,PP< =
nullablePP> F
:PPF G
falsePPH M
)PPM N
,PPN O
DeleteAtQQ 
=QQ 
tableQQ $
.QQ$ %
ColumnQQ% +
<QQ+ ,
DateTimeQQ, 4
>QQ4 5
(QQ5 6
typeQQ6 :
:QQ: ;
$strQQ< G
,QQG H
nullableQQI Q
:QQQ R
falseQQS X
)QQX Y
,QQY Z
DeleteByRR 
=RR 
tableRR $
.RR$ %
ColumnRR% +
<RR+ ,
intRR, /
>RR/ 0
(RR0 1
typeRR1 5
:RR5 6
$strRR7 <
,RR< =
nullableRR> F
:RRF G
falseRRH M
)RRM N
,RRN O
TimeLineStatusSS "
=SS# $
tableSS% *
.SS* +
ColumnSS+ 1
<SS1 2
intSS2 5
>SS5 6
(SS6 7
typeSS7 ;
:SS; <
$strSS= B
,SSB C
nullableSSD L
:SSL M
falseSSN S
)SSS T
}TT 
,TT 
constraintsUU 
:UU 
tableUU "
=>UU# %
{VV 
tableWW 
.WW 

PrimaryKeyWW $
(WW$ %
$strWW% 2
,WW2 3
xWW4 5
=>WW6 8
xWW9 :
.WW: ;
IdWW; =
)WW= >
;WW> ?
}XX 
)XX 
;XX 
migrationBuilderZZ 
.ZZ 
CreateTableZZ (
(ZZ( )
name[[ 
:[[ 
$str[[ 
,[[ 
columns\\ 
:\\ 
table\\ 
=>\\ !
new\\" %
{]] 
ID^^ 
=^^ 
table^^ 
.^^ 
Column^^ %
<^^% &
int^^& )
>^^) *
(^^* +
type^^+ /
:^^/ 0
$str^^1 6
,^^6 7
nullable^^8 @
:^^@ A
false^^B G
)^^G H
.__ 

Annotation__ #
(__# $
$str__$ 8
,__8 9
$str__: @
)__@ A
,__A B
	FirstName`` 
=`` 
table``  %
.``% &
Column``& ,
<``, -
string``- 3
>``3 4
(``4 5
type``5 9
:``9 :
$str``; J
,``J K
nullable``L T
:``T U
true``V Z
)``Z [
,``[ \
LastNameaa 
=aa 
tableaa $
.aa$ %
Columnaa% +
<aa+ ,
stringaa, 2
>aa2 3
(aa3 4
typeaa4 8
:aa8 9
$straa: I
,aaI J
nullableaaK S
:aaS T
trueaaU Y
)aaY Z
,aaZ [
UserNamebb 
=bb 
tablebb $
.bb$ %
Columnbb% +
<bb+ ,
stringbb, 2
>bb2 3
(bb3 4
typebb4 8
:bb8 9
$strbb: I
,bbI J
nullablebbK S
:bbS T
truebbU Y
)bbY Z
,bbZ [
Tokencc 
=cc 
tablecc !
.cc! "
Columncc" (
<cc( )
stringcc) /
>cc/ 0
(cc0 1
typecc1 5
:cc5 6
$strcc7 F
,ccF G
nullableccH P
:ccP Q
trueccR V
)ccV W
,ccW X
Passworddd 
=dd 
tabledd $
.dd$ %
Columndd% +
<dd+ ,
stringdd, 2
>dd2 3
(dd3 4
typedd4 8
:dd8 9
$strdd: I
,ddI J
nullableddK S
:ddS T
trueddU Y
)ddY Z
,ddZ [
Roleee 
=ee 
tableee  
.ee  !
Columnee! '
<ee' (
stringee( .
>ee. /
(ee/ 0
typeee0 4
:ee4 5
$stree6 E
,eeE F
nullableeeG O
:eeO P
trueeeQ U
)eeU V
,eeV W
Emailff 
=ff 
tableff !
.ff! "
Columnff" (
<ff( )
stringff) /
>ff/ 0
(ff0 1
typeff1 5
:ff5 6
$strff7 F
,ffF G
nullableffH P
:ffP Q
trueffR V
)ffV W
,ffW X
RefreshTokengg  
=gg! "
tablegg# (
.gg( )
Columngg) /
<gg/ 0
stringgg0 6
>gg6 7
(gg7 8
typegg8 <
:gg< =
$strgg> M
,ggM N
nullableggO W
:ggW X
trueggY ]
)gg] ^
,gg^ _"
RefreshTokenExpiryTimehh *
=hh+ ,
tablehh- 2
.hh2 3
Columnhh3 9
<hh9 :
DateTimehh: B
>hhB C
(hhC D
typehhD H
:hhH I
$strhhJ U
,hhU V
nullablehhW _
:hh_ `
falsehha f
)hhf g
}ii 
,ii 
constraintsjj 
:jj 
tablejj "
=>jj# %
{kk 
tablell 
.ll 

PrimaryKeyll $
(ll$ %
$strll% /
,ll/ 0
xll1 2
=>ll3 5
xll6 7
.ll7 8
IDll8 :
)ll: ;
;ll; <
}mm 
)mm 
;mm 
}nn 	
	protectedqq 
overrideqq 
voidqq 
Downqq  $
(qq$ %
MigrationBuilderqq% 5
migrationBuilderqq6 F
)qqF G
{rr 	
migrationBuilderss 
.ss 
	DropTabless &
(ss& '
namett 
:tt 
$strtt  
)tt  !
;tt! "
migrationBuildervv 
.vv 
	DropTablevv &
(vv& '
nameww 
:ww 
$strww ,
)ww, -
;ww- .
migrationBuilderyy 
.yy 
	DropTableyy &
(yy& '
namezz 
:zz 
$strzz  
)zz  !
;zz! "
migrationBuilder|| 
.|| 
	DropTable|| &
(||& '
name}} 
:}} 
$str}} 
)}} 
;}} 
}~~ 	
} 
}ÄÄ û@
SD:\ITPM\GreenSagaAPI\GreenSagaAPI\GreenSagaAPI\Migrations\20230518191231_Initial.cs
	namespace 	
GreenSagaAPI
 
. 

Migrations !
{ 
public		 

partial		 
class		 
Initial		  
:		! "
	Migration		# ,
{

 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder 
. 
AlterColumn (
<( )
DateTimeOffset) 7
>7 8
(8 9
name 
: 
$str  
,  !
table 
: 
$str !
,! "
type 
: 
$str &
,& '
nullable 
: 
false 
,  

oldClrType 
: 
typeof "
(" #
DateTime# +
)+ ,
,, -
oldType 
: 
$str $
)$ %
;% &
migrationBuilder 
. 
AlterColumn (
<( )
DateTimeOffset) 7
>7 8
(8 9
name 
: 
$str  
,  !
table 
: 
$str !
,! "
type 
: 
$str &
,& '
nullable 
: 
false 
,  

oldClrType 
: 
typeof "
(" #
DateTime# +
)+ ,
,, -
oldType 
: 
$str $
)$ %
;% &
migrationBuilder 
. 
AlterColumn (
<( )
DateTimeOffset) 7
>7 8
(8 9
name 
: 
$str  
,  !
table   
:   
$str   !
,  ! "
type!! 
:!! 
$str!! &
,!!& '
nullable"" 
:"" 
false"" 
,""  

oldClrType## 
:## 
typeof## "
(##" #
DateTime### +
)##+ ,
,##, -
oldType$$ 
:$$ 
$str$$ $
)$$$ %
;$$% &
migrationBuilder&& 
.&& 
AlterColumn&& (
<&&( )
DateTimeOffset&&) 7
>&&7 8
(&&8 9
name'' 
:'' 
$str''  
,''  !
table(( 
:(( 
$str(( !
,((! "
type)) 
:)) 
$str)) &
,))& '
nullable** 
:** 
false** 
,**  

oldClrType++ 
:++ 
typeof++ "
(++" #
DateTime++# +
)+++ ,
,++, -
oldType,, 
:,, 
$str,, $
),,$ %
;,,% &
migrationBuilder.. 
... 
AlterColumn.. (
<..( )
DateTimeOffset..) 7
>..7 8
(..8 9
name// 
:// 
$str//  
,//  !
table00 
:00 
$str00 !
,00! "
type11 
:11 
$str11 &
,11& '
nullable22 
:22 
false22 
,22  

oldClrType33 
:33 
typeof33 "
(33" #
DateTime33# +
)33+ ,
,33, -
oldType44 
:44 
$str44 $
)44$ %
;44% &
migrationBuilder66 
.66 
AlterColumn66 (
<66( )
DateTimeOffset66) 7
>667 8
(668 9
name77 
:77 
$str77  
,77  !
table88 
:88 
$str88 !
,88! "
type99 
:99 
$str99 &
,99& '
nullable:: 
::: 
false:: 
,::  

oldClrType;; 
:;; 
typeof;; "
(;;" #
DateTime;;# +
);;+ ,
,;;, -
oldType<< 
:<< 
$str<< $
)<<$ %
;<<% &
}== 	
	protected@@ 
override@@ 
void@@ 
Down@@  $
(@@$ %
MigrationBuilder@@% 5
migrationBuilder@@6 F
)@@F G
{AA 	
migrationBuilderBB 
.BB 
AlterColumnBB (
<BB( )
DateTimeBB) 1
>BB1 2
(BB2 3
nameCC 
:CC 
$strCC  
,CC  !
tableDD 
:DD 
$strDD !
,DD! "
typeEE 
:EE 
$strEE !
,EE! "
nullableFF 
:FF 
falseFF 
,FF  

oldClrTypeGG 
:GG 
typeofGG "
(GG" #
DateTimeOffsetGG# 1
)GG1 2
,GG2 3
oldTypeHH 
:HH 
$strHH )
)HH) *
;HH* +
migrationBuilderJJ 
.JJ 
AlterColumnJJ (
<JJ( )
DateTimeJJ) 1
>JJ1 2
(JJ2 3
nameKK 
:KK 
$strKK  
,KK  !
tableLL 
:LL 
$strLL !
,LL! "
typeMM 
:MM 
$strMM !
,MM! "
nullableNN 
:NN 
falseNN 
,NN  

oldClrTypeOO 
:OO 
typeofOO "
(OO" #
DateTimeOffsetOO# 1
)OO1 2
,OO2 3
oldTypePP 
:PP 
$strPP )
)PP) *
;PP* +
migrationBuilderRR 
.RR 
AlterColumnRR (
<RR( )
DateTimeRR) 1
>RR1 2
(RR2 3
nameSS 
:SS 
$strSS  
,SS  !
tableTT 
:TT 
$strTT !
,TT! "
typeUU 
:UU 
$strUU !
,UU! "
nullableVV 
:VV 
falseVV 
,VV  

oldClrTypeWW 
:WW 
typeofWW "
(WW" #
DateTimeOffsetWW# 1
)WW1 2
,WW2 3
oldTypeXX 
:XX 
$strXX )
)XX) *
;XX* +
migrationBuilderZZ 
.ZZ 
AlterColumnZZ (
<ZZ( )
DateTimeZZ) 1
>ZZ1 2
(ZZ2 3
name[[ 
:[[ 
$str[[  
,[[  !
table\\ 
:\\ 
$str\\ !
,\\! "
type]] 
:]] 
$str]] !
,]]! "
nullable^^ 
:^^ 
false^^ 
,^^  

oldClrType__ 
:__ 
typeof__ "
(__" #
DateTimeOffset__# 1
)__1 2
,__2 3
oldType`` 
:`` 
$str`` )
)``) *
;``* +
migrationBuilderbb 
.bb 
AlterColumnbb (
<bb( )
DateTimebb) 1
>bb1 2
(bb2 3
namecc 
:cc 
$strcc  
,cc  !
tabledd 
:dd 
$strdd !
,dd! "
typeee 
:ee 
$stree !
,ee! "
nullableff 
:ff 
falseff 
,ff  

oldClrTypegg 
:gg 
typeofgg "
(gg" #
DateTimeOffsetgg# 1
)gg1 2
,gg2 3
oldTypehh 
:hh 
$strhh )
)hh) *
;hh* +
migrationBuilderjj 
.jj 
AlterColumnjj (
<jj( )
DateTimejj) 1
>jj1 2
(jj2 3
namekk 
:kk 
$strkk  
,kk  !
tablell 
:ll 
$strll !
,ll! "
typemm 
:mm 
$strmm !
,mm! "
nullablenn 
:nn 
falsenn 
,nn  

oldClrTypeoo 
:oo 
typeofoo "
(oo" #
DateTimeOffsetoo# 1
)oo1 2
,oo2 3
oldTypepp 
:pp 
$strpp )
)pp) *
;pp* +
}qq 	
}rr 
}ss ¸"
OD:\ITPM\GreenSagaAPI\GreenSagaAPI\GreenSagaAPI\Migrations\20230518192858_add.cs
	namespace 	
GreenSagaAPI
 
. 

Migrations !
{ 
public		 

partial		 
class		 
add		 
:		 
	Migration		 (
{

 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder 
. 
AlterColumn (
<( )
DateTimeOffset) 7
>7 8
(8 9
name 
: 
$str  
,  !
table 
: 
$str -
,- .
type 
: 
$str &
,& '
nullable 
: 
false 
,  

oldClrType 
: 
typeof "
(" #
DateTime# +
)+ ,
,, -
oldType 
: 
$str $
)$ %
;% &
migrationBuilder 
. 
AlterColumn (
<( )
DateTimeOffset) 7
>7 8
(8 9
name 
: 
$str  
,  !
table 
: 
$str -
,- .
type 
: 
$str &
,& '
nullable 
: 
false 
,  

oldClrType 
: 
typeof "
(" #
DateTime# +
)+ ,
,, -
oldType 
: 
$str $
)$ %
;% &
migrationBuilder 
. 
AlterColumn (
<( )
DateTimeOffset) 7
>7 8
(8 9
name 
: 
$str  
,  !
table   
:   
$str   -
,  - .
type!! 
:!! 
$str!! &
,!!& '
nullable"" 
:"" 
false"" 
,""  

oldClrType## 
:## 
typeof## "
(##" #
DateTime### +
)##+ ,
,##, -
oldType$$ 
:$$ 
$str$$ $
)$$$ %
;$$% &
}%% 	
	protected(( 
override(( 
void(( 
Down((  $
((($ %
MigrationBuilder((% 5
migrationBuilder((6 F
)((F G
{)) 	
migrationBuilder** 
.** 
AlterColumn** (
<**( )
DateTime**) 1
>**1 2
(**2 3
name++ 
:++ 
$str++  
,++  !
table,, 
:,, 
$str,, -
,,,- .
type-- 
:-- 
$str-- !
,--! "
nullable.. 
:.. 
false.. 
,..  

oldClrType// 
:// 
typeof// "
(//" #
DateTimeOffset//# 1
)//1 2
,//2 3
oldType00 
:00 
$str00 )
)00) *
;00* +
migrationBuilder22 
.22 
AlterColumn22 (
<22( )
DateTime22) 1
>221 2
(222 3
name33 
:33 
$str33  
,33  !
table44 
:44 
$str44 -
,44- .
type55 
:55 
$str55 !
,55! "
nullable66 
:66 
false66 
,66  

oldClrType77 
:77 
typeof77 "
(77" #
DateTimeOffset77# 1
)771 2
,772 3
oldType88 
:88 
$str88 )
)88) *
;88* +
migrationBuilder:: 
.:: 
AlterColumn:: (
<::( )
DateTime::) 1
>::1 2
(::2 3
name;; 
:;; 
$str;;  
,;;  !
table<< 
:<< 
$str<< -
,<<- .
type== 
:== 
$str== !
,==! "
nullable>> 
:>> 
false>> 
,>>  

oldClrType?? 
:?? 
typeof?? "
(??" #
DateTimeOffset??# 1
)??1 2
,??2 3
oldType@@ 
:@@ 
$str@@ )
)@@) *
;@@* +
}AA 	
}BB 
}CC ¬
PD:\ITPM\GreenSagaAPI\GreenSagaAPI\GreenSagaAPI\Migrations\20230518193544_adda.cs
	namespace 	
GreenSagaAPI
 
. 

Migrations !
{ 
public		 

partial		 
class		 
adda		 
:		 
	Migration		  )
{

 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder 
. 
AlterColumn (
<( )
DateTimeOffset) 7
>7 8
(8 9
name 
: 
$str .
,. /
table 
: 
$str 
, 
type 
: 
$str &
,& '
nullable 
: 
false 
,  

oldClrType 
: 
typeof "
(" #
DateTime# +
)+ ,
,, -
oldType 
: 
$str $
)$ %
;% &
} 	
	protected 
override 
void 
Down  $
($ %
MigrationBuilder% 5
migrationBuilder6 F
)F G
{ 	
migrationBuilder 
. 
AlterColumn (
<( )
DateTime) 1
>1 2
(2 3
name 
: 
$str .
,. /
table 
: 
$str 
, 
type 
: 
$str !
,! "
nullable 
: 
false 
,  

oldClrType 
: 
typeof "
(" #
DateTimeOffset# 1
)1 2
,2 3
oldType   
:   
$str   )
)  ) *
;  * +
}!! 	
}"" 
}## ƒ
QD:\ITPM\GreenSagaAPI\GreenSagaAPI\GreenSagaAPI\Migrations\20230518194102_addaa.cs
	namespace 	
GreenSagaAPI
 
. 

Migrations !
{ 
public		 

partial		 
class		 
addaa		 
:		  
	Migration		! *
{

 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder 
. 
AlterColumn (
<( )
DateTime) 1
>1 2
(2 3
name 
: 
$str .
,. /
table 
: 
$str 
, 
type 
: 
$str !
,! "
nullable 
: 
false 
,  

oldClrType 
: 
typeof "
(" #
DateTimeOffset# 1
)1 2
,2 3
oldType 
: 
$str )
)) *
;* +
} 	
	protected 
override 
void 
Down  $
($ %
MigrationBuilder% 5
migrationBuilder6 F
)F G
{ 	
migrationBuilder 
. 
AlterColumn (
<( )
DateTimeOffset) 7
>7 8
(8 9
name 
: 
$str .
,. /
table 
: 
$str 
, 
type 
: 
$str &
,& '
nullable 
: 
false 
,  

oldClrType 
: 
typeof "
(" #
DateTime# +
)+ ,
,, -
oldType   
:   
$str   $
)  $ %
;  % &
}!! 	
}"" 
}## Û 
SD:\ITPM\GreenSagaAPI\GreenSagaAPI\GreenSagaAPI\Migrations\20230519184846_setdate.cs
	namespace 	
GreenSagaAPI
 
. 

Migrations !
{ 
public		 

partial		 
class		 
setdate		  
:		! "
	Migration		# ,
{

 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder 
. 
	AddColumn &
<& '
DateTimeOffset' 5
>5 6
(6 7
name 
: 
$str 
,  
table 
: 
$str !
,! "
type 
: 
$str &
,& '
nullable 
: 
false 
,  
defaultValue 
: 
new !
DateTimeOffset" 0
(0 1
new1 4
DateTime5 =
(= >
$num> ?
,? @
$numA B
,B C
$numD E
,E F
$numG H
,H I
$numJ K
,K L
$numM N
,N O
$numP Q
,Q R
DateTimeKindS _
._ `
Unspecified` k
)k l
,l m
newn q
TimeSpanr z
(z {
$num{ |
,| }
$num~ 
,	 Ä
$num
Å Ç
,
Ç É
$num
Ñ Ö
,
Ö Ü
$num
á à
)
à â
)
â ä
)
ä ã
;
ã å
migrationBuilder 
. 
	AddColumn &
<& '
DateTimeOffset' 5
>5 6
(6 7
name 
: 
$str !
,! "
table 
: 
$str !
,! "
type 
: 
$str &
,& '
nullable 
: 
false 
,  
defaultValue 
: 
new !
DateTimeOffset" 0
(0 1
new1 4
DateTime5 =
(= >
$num> ?
,? @
$numA B
,B C
$numD E
,E F
$numG H
,H I
$numJ K
,K L
$numM N
,N O
$numP Q
,Q R
DateTimeKindS _
._ `
Unspecified` k
)k l
,l m
newn q
TimeSpanr z
(z {
$num{ |
,| }
$num~ 
,	 Ä
$num
Å Ç
,
Ç É
$num
Ñ Ö
,
Ö Ü
$num
á à
)
à â
)
â ä
)
ä ã
;
ã å
migrationBuilder 
. 
	AddColumn &
<& '
string' -
>- .
(. /
name 
: 
$str 
, 
table 
: 
$str !
,! "
type 
: 
$str %
,% &
nullable   
:   
true   
)   
;    
}!! 	
	protected$$ 
override$$ 
void$$ 
Down$$  $
($$$ %
MigrationBuilder$$% 5
migrationBuilder$$6 F
)$$F G
{%% 	
migrationBuilder&& 
.&& 

DropColumn&& '
(&&' (
name'' 
:'' 
$str'' 
,''  
table(( 
:(( 
$str(( !
)((! "
;((" #
migrationBuilder** 
.** 

DropColumn** '
(**' (
name++ 
:++ 
$str++ !
,++! "
table,, 
:,, 
$str,, !
),,! "
;,," #
migrationBuilder.. 
... 

DropColumn.. '
(..' (
name// 
:// 
$str// 
,// 
table00 
:00 
$str00 !
)00! "
;00" #
}11 	
}22 
}33 ®&
TD:\ITPM\GreenSagaAPI\GreenSagaAPI\GreenSagaAPI\Migrations\20230519202412_setdates.cs
	namespace 	
GreenSagaAPI
 
. 

Migrations !
{ 
public		 

partial		 
class		 
setdates		 !
:		" #
	Migration		$ -
{

 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder 
. 
AlterColumn (
<( )
DateTimeOffset) 7
>7 8
(8 9
name 
: 
$str !
,! "
table 
: 
$str !
,! "
type 
: 
$str &
,& '
nullable 
: 
true 
, 

oldClrType 
: 
typeof "
(" #
DateTimeOffset# 1
)1 2
,2 3
oldType 
: 
$str )
)) *
;* +
migrationBuilder 
. 
AlterColumn (
<( )
DateTimeOffset) 7
>7 8
(8 9
name 
: 
$str 
,  
table 
: 
$str !
,! "
type 
: 
$str &
,& '
nullable 
: 
true 
, 

oldClrType 
: 
typeof "
(" #
DateTimeOffset# 1
)1 2
,2 3
oldType 
: 
$str )
)) *
;* +
} 	
	protected   
override   
void   
Down    $
(  $ %
MigrationBuilder  % 5
migrationBuilder  6 F
)  F G
{!! 	
migrationBuilder"" 
."" 
AlterColumn"" (
<""( )
DateTimeOffset"") 7
>""7 8
(""8 9
name## 
:## 
$str## !
,##! "
table$$ 
:$$ 
$str$$ !
,$$! "
type%% 
:%% 
$str%% &
,%%& '
nullable&& 
:&& 
false&& 
,&&  
defaultValue'' 
:'' 
new'' !
DateTimeOffset''" 0
(''0 1
new''1 4
DateTime''5 =
(''= >
$num''> ?
,''? @
$num''A B
,''B C
$num''D E
,''E F
$num''G H
,''H I
$num''J K
,''K L
$num''M N
,''N O
$num''P Q
,''Q R
DateTimeKind''S _
.''_ `
Unspecified''` k
)''k l
,''l m
new''n q
TimeSpan''r z
(''z {
$num''{ |
,''| }
$num''~ 
,	'' Ä
$num
''Å Ç
,
''Ç É
$num
''Ñ Ö
,
''Ö Ü
$num
''á à
)
''à â
)
''â ä
,
''ä ã

oldClrType(( 
:(( 
typeof(( "
(((" #
DateTimeOffset((# 1
)((1 2
,((2 3
oldType)) 
:)) 
$str)) )
,))) *
oldNullable** 
:** 
true** !
)**! "
;**" #
migrationBuilder,, 
.,, 
AlterColumn,, (
<,,( )
DateTimeOffset,,) 7
>,,7 8
(,,8 9
name-- 
:-- 
$str-- 
,--  
table.. 
:.. 
$str.. !
,..! "
type// 
:// 
$str// &
,//& '
nullable00 
:00 
false00 
,00  
defaultValue11 
:11 
new11 !
DateTimeOffset11" 0
(110 1
new111 4
DateTime115 =
(11= >
$num11> ?
,11? @
$num11A B
,11B C
$num11D E
,11E F
$num11G H
,11H I
$num11J K
,11K L
$num11M N
,11N O
$num11P Q
,11Q R
DateTimeKind11S _
.11_ `
Unspecified11` k
)11k l
,11l m
new11n q
TimeSpan11r z
(11z {
$num11{ |
,11| }
$num11~ 
,	11 Ä
$num
11Å Ç
,
11Ç É
$num
11Ñ Ö
,
11Ö Ü
$num
11á à
)
11à â
)
11â ä
,
11ä ã

oldClrType22 
:22 
typeof22 "
(22" #
DateTimeOffset22# 1
)221 2
,222 3
oldType33 
:33 
$str33 )
,33) *
oldNullable44 
:44 
true44 !
)44! "
;44" #
}55 	
}66 
}77 ‰
LD:\ITPM\GreenSagaAPI\GreenSagaAPI\GreenSagaAPI\Models\cultivationProjects.cs
	namespace 	
GreenSagaAPI
 
. 
Models 
{ 
public 

class 
cultivationProjects $
{ 
[ 	
Key	 
] 
public 
int 
Id 
{ 
get 
; 
set  
;  !
}" #
public		 
string		 
ProjectCode		 !
{		" #
get		$ '
;		' (
set		) ,
;		, -
}		. /
public

 
string

 
ProjectName

 !
{

" #
get

$ '
;

' (
set

) ,
;

, -
}

. /
public 
string 
Description !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
string 
Image 
{ 
get !
;! "
set# &
;& '
}( )
public 
DateTimeOffset 
CreateAt &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
public 
int 
Createby 
{ 
get !
;! "
set# &
;& '
}( )
public 
int 
UserID 
{ 
get 
;  
set! $
;$ %
}& '
public 
int 
SupervisorID 
{  !
get" %
;% &
set' *
;* +
}, -
public 
DateTimeOffset 
ModifyAt &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
public 
int 
ModifyBy 
{ 
get !
;! "
set# &
;& '
}( )
public 
DateTimeOffset 
DeleteAt &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
public 
int 
DeleteBy 
{ 
get !
;! "
set# &
;& '
}( )
public 
projectStatus 
Status #
{$ %
get& )
;) *
set+ .
;. /
}0 1
} 
} õ
HD:\ITPM\GreenSagaAPI\GreenSagaAPI\GreenSagaAPI\Models\Dto\TokenApiDto.cs
	namespace 	
GreenSagaAPI
 
. 
Models 
. 
Dto !
{ 
public 

class 
TokenApiDto 
{ 
public 
string 
AccessToken !
{" #
get$ '
;' (
set) ,
;, -
}. /
=0 1
string2 8
.8 9
Empty9 >
;> ?
public 
string 
RefreshToken "
{# $
get% (
;( )
set* -
;- .
}/ 0
=1 2
string3 9
.9 :
Empty: ?
;? @
} 
}		 ˚
UD:\ITPM\GreenSagaAPI\GreenSagaAPI\GreenSagaAPI\Models\partial\ProjecwithSupervisor.cs
	namespace 	
GreenSagaAPI
 
. 
Models 
. 
partial %
{ 
public 

class  
ProjecwithSupervisor %
{ 
public 
int 
Id 
{ 
get 
; 
set  
;  !
}" #
public 
string 
ProjectCode !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
string 
ProjectName !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
string 
Description !
{" #
get$ '
;' (
set) ,
;, -
}. /
public		 
DateTimeOffset		 
CreateAt		 &
{		' (
get		) ,
;		, -
set		. 1
;		1 2
}		3 4
public

 
int

 
Createby

 
{

 
get

 !
;

! "
set

# &
;

& '
}

( )
public 
int 
UserID 
{ 
get 
;  
set! $
;$ %
}& '
public 
int 
SupervisorID 
{  !
get" %
;% &
set' *
;* +
}, -
public 
DateTimeOffset 
ModifyAt &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
public 
int 
ModifyBy 
{ 
get !
;! "
set# &
;& '
}( )
public 
DateTimeOffset 
DeleteAt &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
public 
int 
DeleteBy 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 
? 
SupervisorName %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public 
projectStatus 
Status #
{$ %
get& )
;) *
set+ .
;. /
}0 1
} 
} Ó
FD:\ITPM\GreenSagaAPI\GreenSagaAPI\GreenSagaAPI\Models\projectStatus.cs
	namespace 	
GreenSagaAPI
 
. 
Models 
{ 
public 

enum 
projectStatus 
{ 
	Inprogres 
, 
Done 
, 
Closed 
} 
}		 Ç
AD:\ITPM\GreenSagaAPI\GreenSagaAPI\GreenSagaAPI\Models\timeLine.cs
	namespace 	
GreenSagaAPI
 
. 
Models 
{ 
public 

class 
timeLine 
{ 
[ 	
Key	 
] 
public 
int 
Id 
{ 
get 
; 
set  
;  !
}" #
public		 
int		 
	ProjectId		 
{		 
get		 "
;		" #
set		$ '
;		' (
}		) *
public

 
int

 
FarmerId

 
{

 
get

 !
;

! "
set

# &
;

& '
}

( )
public 
int 
SupervisorId 
{  !
get" %
;% &
set' *
;* +
}, -
public 
string 
Title 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 
Description !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
string 
Image 
{ 
get !
;! "
set# &
;& '
}( )
public 
Boolean 
IsActive 
{  !
get" %
;% &
set' *
;* +
}, -
public 
DateTimeOffset 
CreateAt &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
public 
int 
Createby 
{ 
get !
;! "
set# &
;& '
}( )
public 
int 
UserID 
{ 
get 
;  
set! $
;$ %
}& '
public 
DateTimeOffset 
ModifyAt &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
public 
int 
ModifyBy 
{ 
get !
;! "
set# &
;& '
}( )
public 
DateTimeOffset 
DeleteAt &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
public 
int 
DeleteBy 
{ 
get !
;! "
set# &
;& '
}( )
public 
timeLineStatus 
TimeLineStatus ,
{- .
get/ 2
;2 3
set4 7
;7 8
}9 :
} 
} Ó
DD:\ITPM\GreenSagaAPI\GreenSagaAPI\GreenSagaAPI\Models\TimeLineBox.cs
	namespace 	
GreenSagaAPI
 
. 
Models 
{ 
public 

class 
TimeLineBox 
{ 
[ 	
Key	 
] 
public 
int 
Id 
{ 
get 
; 
set  
;  !
}" #
public		 
int		 
	ProjectId		 
{		 
get		 "
;		" #
set		$ '
;		' (
}		) *
public

 
int

 
FarmerId

 
{

 
get

 !
;

! "
set

# &
;

& '
}

( )
public 
int 
SupervisorId 
{  !
get" %
;% &
set' *
;* +
}, -
public 
string 
Title 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 
Description !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
string 
Image 
{ 
get !
;! "
set# &
;& '
}( )
public 
Boolean 
IsActive 
{  !
get" %
;% &
set' *
;* +
}, -
public 
DateTimeOffset 
CreateAt &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
public 
DateTimeOffset 
? 
	StartDate (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
public 
DateTimeOffset 
? 
EndDate &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
public 
int 
Createby 
{ 
get !
;! "
set# &
;& '
}( )
public 
int 
UserID 
{ 
get 
;  
set! $
;$ %
}& '
public 
DateTimeOffset 
ModifyAt &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
public 
int 
ModifyBy 
{ 
get !
;! "
set# &
;& '
}( )
public 
DateTimeOffset 
DeleteAt &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
public 
int 
DeleteBy 
{ 
get !
;! "
set# &
;& '
}( )
public 
timeLineStatus 
TimeLineStatus ,
{- .
get/ 2
;2 3
set4 7
;7 8
}9 :
} 
} ‚
GD:\ITPM\GreenSagaAPI\GreenSagaAPI\GreenSagaAPI\Models\timeLineStatus.cs
	namespace 	
GreenSagaAPI
 
. 
Models 
{ 
public 

enum 
timeLineStatus 
{ 
Reminder 
, 
	Important 
, 
	Completed 
, 
Task 
, 
ToDoTask		 
,		 
Question

 
} 
} √
=D:\ITPM\GreenSagaAPI\GreenSagaAPI\GreenSagaAPI\Models\User.cs
	namespace 	
GreenSagaAPI
 
. 
Models 
{ 
public 

class 
User 
{ 
[ 	
Key	 
] 
public 
int 
ID 
{ 
get 
; 
set  
;  !
}" #
public		 
string		 
?		 
	FirstName		  
{		! "
get		# &
;		& '
set		( +
;		+ ,
}		- .
public

 
string

 
?

 
LastName

 
{

  !
get

" %
;

% &
set

' *
;

* +
}

, -
public 
string 
? 
UserName 
{  !
get" %
;% &
set' *
;* +
}, -
public 
string 
? 
Token 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
? 
Password 
{  !
get" %
;% &
set' *
;* +
}, -
public 
string 
? 
Role 
{ 
get !
;! "
set# &
;& '
}( )
public 
string 
? 
Email 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
? 
RefreshToken #
{$ %
get& )
;) *
set+ .
;. /
}0 1
public 
DateTime "
RefreshTokenExpiryTime .
{/ 0
get1 4
;4 5
set6 9
;9 :
}; <
} 
} â%
9D:\ITPM\GreenSagaAPI\GreenSagaAPI\GreenSagaAPI\Program.cs
var 
builder 
= 
WebApplication 
. 
CreateBuilder *
(* +
args+ /
)/ 0
;0 1
builder 
. 
Services 
. 
AddControllers 
(  
)  !
;! "
builder 
. 
Services 
. #
AddEndpointsApiExplorer (
(( )
)) *
;* +
builder 
. 
Services 
. 
AddSwaggerGen 
( 
)  
;  !
builder 
. 
Services 
. 
AddCors 
( 
option 
=>  "
{ 
option 

.
 
	AddPolicy 
( 
$str 
,  
builder! (
=>) +
{ 
builder 
. 
AllowAnyOrigin 
( 
)  
. 	
AllowAnyMethod	 
( 
) 
. 	
AllowAnyHeader	 
( 
) 
; 
} 
) 
; 
} 
) 
; 
builder 
. 
Services 
. 
AddDbContext 
< 
AppDbContext *
>* +
(+ ,
option, 2
=>3 5
{ 
option 

.
 
UseSqlServer 
( 
builder 
.  
Configuration  -
.- .
GetConnectionString. A
(A B
$strB T
)T U
)U V
;V W
} 
) 
; 
builder 
. 
Services 
. 
AddAuthentication "
(" #
x# $
=>% '
{ 
x 
. %
DefaultAuthenticateScheme 
=  !
JwtBearerDefaults" 3
.3 4 
AuthenticationScheme4 H
;H I
x   
.   "
DefaultChallengeScheme   
=   
JwtBearerDefaults   0
.  0 1 
AuthenticationScheme  1 E
;  E F
}!! 
)!! 
.!! 
AddJwtBearer!! 
(!! 
x!! 
=>!! 
{"" 
x## 
.##  
RequireHttpsMetadata## 
=## 
false## "
;##" #
x$$ 
.$$ 
	SaveToken$$ 
=$$ 
true$$ 
;$$ 
x%% 
.%% %
TokenValidationParameters%% 
=%%  !
new%%" %%
TokenValidationParameters%%& ?
{&& $
ValidateIssuerSigningKey''  
=''! "
true''# '
,''' (
IssuerSigningKey(( 
=(( 
new((  
SymmetricSecurityKey(( 3
(((3 4
Encoding((4 <
.((< =
UTF8((= A
.((A B
GetBytes((B J
(((J K
$str((K `
)((` a
)((a b
,((b c
ValidateAudience)) 
=)) 
false)) 
,)) 
ValidateIssuer** 
=** 
false** 
,** 
	ClockSkew++ 
=++ 
TimeSpan++ 
.++ 
Zero++ !
},, 
;,, 
}-- 
)-- 
;-- 
var// 
app// 
=// 	
builder//
 
.// 
Build// 
(// 
)// 
;// 
if22 
(22 
app22 
.22 
Environment22 
.22 
IsDevelopment22 !
(22! "
)22" #
)22# $
{33 
app44 
.44 

UseSwagger44 
(44 
)44 
;44 
app55 
.55 
UseSwaggerUI55 
(55 
)55 
;55 
}66 
app88 
.88 
UseHttpsRedirection88 
(88 
)88 
;88 
app99 
.99 
UseCors99 
(99 
$str99 
)99 
;99 
app:: 
.:: 
UseAuthentication:: 
(:: 
):: 
;:: 
app;; 
.;; 
UseAuthorization;; 
(;; 
);; 
;;; 
app== 
.== 
MapControllers== 
(== 
)== 
;== 
app?? 
.?? 
Run?? 
(?? 
)?? 	
;??	 
Ì
HD:\ITPM\GreenSagaAPI\GreenSagaAPI\GreenSagaAPI\Service\projectService.cs
	namespace 	
GreenSagaAPI
 
. 
Service 
{ 
public 

class 
projectService 
{ 
public 
List 
< 
cultivationProjects '
>' ("
GetCultivationProjects) ?
(? @
)@ A
{ 	
var		 
project		 
=		 
new		 
List		 "
<		" #
cultivationProjects		# 6
>		6 7
(		7 8
)		8 9
;		9 :
var 
pro1 
= 
new 
cultivationProjects .
{ 
Id 
= 
$num 
, 
ProjectCode 
= 
$str !
,! "
ProjectName 
= 
$str #
,# $
Description 
= 
$str &
,& '
Createby 
= 
$num 
, 
Status 
= 
projectStatus &
.& '
	Inprogres' 0
} 
; 
project 
. 
Add 
( 
pro1 
) 
; 
var 
pro2 
= 
new 
cultivationProjects .
{ 
Id 
= 
$num 
, 
ProjectCode 
= 
$str "
," #
ProjectName 
= 
$str %
,% &
Description 
= 
$str #
,# $
Createby 
= 
$num 
, 
Status   
=   
projectStatus   &
.  & '
	Inprogres  ' 0
}## 
;## 
project$$ 
.$$ 
Add$$ 
($$ 
pro2$$ 
)$$ 
;$$ 
return%% 
project%% 
;%% 
}'' 	
}(( 
})) ÷
AD:\ITPM\GreenSagaAPI\GreenSagaAPI\GreenSagaAPI\WeatherForecast.cs
	namespace 	
GreenSagaAPI
 
{ 
public 

class 
WeatherForecast  
{ 
public 
DateTime 
Date 
{ 
get "
;" #
set$ '
;' (
}) *
public 
int 
TemperatureC 
{  !
get" %
;% &
set' *
;* +
}, -
public		 
int		 
TemperatureF		 
=>		  "
$num		# %
+		& '
(		( )
int		) ,
)		, -
(		- .
TemperatureC		. :
/		; <
$num		= C
)		C D
;		D E
public 
string 
? 
Summary 
{  
get! $
;$ %
set& )
;) *
}+ ,
} 
} 